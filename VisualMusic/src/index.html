<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Music</title>
    <meta name="description" content="ä¸€ä¸ªä½¿ç”¨åŸç”ŸJavaScriptå¼€å‘çš„éŸ³ä¹æ’­æ”¾å™¨">
    <link rel="stylesheet" href="css/index_styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸµ</text></svg>">
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§æ’­æ”¾åˆ—è¡¨ -->
        <div class="playlist-section">
            <div class="playlist-header">
                <h2>æˆ‘çš„éŸ³ä¹</h2>
                <div class="upload-area" id="uploadArea" role="button" tabindex="0" aria-label="ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶">
                    <div class="upload-text">
                        ç‚¹å‡»æˆ–æ‹–æ‹½éŸ³é¢‘æ–‡ä»¶åˆ°è¿™é‡Œ<br>
                        æ”¯æŒ MP3, WAV, OGG æ ¼å¼
                    </div>
                    <input type="file" id="fileInput" multiple accept="audio/*" aria-label="é€‰æ‹©éŸ³é¢‘æ–‡ä»¶">
                </div>
            </div>
            <div class="playlist" id="playlist" role="list" aria-label="æ’­æ”¾åˆ—è¡¨">
                <!-- æ’­æ”¾åˆ—è¡¨é¡¹å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- å³ä¾§ä¸»æ’­æ”¾åŒºåŸŸ -->
        <div class="player-section">
            <div class="current-track-info" id="currentTrackInfo">
                <div class="empty-state">
                    <h3>ğŸµ</h3>
                    <p>é€‰æ‹©ä¸€é¦–æ­Œæ›²å¼€å§‹æ’­æ”¾</p>
                </div>
            </div>

            <div class="player-controls" id="playerControls" style="display: none;">
                <!-- è¿›åº¦æ¡ -->
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" role="progressbar" aria-label="æ’­æ”¾è¿›åº¦" tabindex="0">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="time-display">
                        <span id="currentTime" aria-label="å½“å‰æ—¶é—´">0:00</span>
                        <span id="totalTime" aria-label="æ€»æ—¶é•¿">0:00</span>
                    </div>
                </div>

                <!-- æ’­æ”¾æ§åˆ¶æŒ‰é’® -->
                <div class="control-buttons">
                    <button class="control-btn" id="prevBtn" title="ä¸Šä¸€é¦– (â†)" aria-label="ä¸Šä¸€é¦–">â®</button>
                    <button class="control-btn play-btn" id="playBtn" title="æ’­æ”¾/æš‚åœ (ç©ºæ ¼)" aria-label="æ’­æ”¾">â–¶</button>
                    <button class="control-btn" id="nextBtn" title="ä¸‹ä¸€é¦– (â†’)" aria-label="ä¸‹ä¸€é¦–">â­</button>
                </div>

                <!-- éŸ³é‡æ§åˆ¶ -->
                <div class="volume-control">
                    <span class="volume-icon" id="volumeIcon" title="éŸ³é‡" aria-label="éŸ³é‡å›¾æ ‡">ğŸ”Š</span>
                    <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70" 
                           title="éŸ³é‡æ§åˆ¶ (â†‘â†“)" aria-label="éŸ³é‡æ»‘å—">
                </div>
            </div>
        </div>
    </div>

    <!-- éšè—çš„éŸ³é¢‘å…ƒç´  -->
    <audio id="audioPlayer" preload="metadata" aria-hidden="true"></audio>

    <!-- JavaScript -->
    <script src="js/audio/music_player.js"></script>
    
    <!-- é”™è¯¯å¤„ç† -->
    <script>
        window.addEventListener('error', function(e) {
            console.error('é¡µé¢é”™è¯¯:', e.error);
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('æœªå¤„ç†çš„Promiseé”™è¯¯:', e.reason);
        });
    </script>
</body>
</html>
